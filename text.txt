ğŸ”´ 1. Erreur : no such service: build
âŒ Le problÃ¨me :
Jâ€™avais lancÃ© cette commande :

bash
Copier
Modifier
docker-compose up -d build
Mais Docker a compris que build Ã©tait un nom de service, ce qui nâ€™Ã©tait pas du tout le cas.

âœ… La solution :
Il fallait en rÃ©alitÃ© Ã©crire :

bash
Copier
Modifier
docker-compose up --build -d
La diffÃ©rence ? Le --build est une option de la commande, pas un service.

ğŸ”´ 2. Erreur 403 Forbidden â€“ Apache
âŒ Le problÃ¨me :
Apache me renvoyait lâ€™erreur :

vbnet
Copier
Modifier
Forbidden
You don't have permission to access this resource.
ğŸ’¡ Ce que jâ€™ai vÃ©rifiÃ© :
Le dossier racine n'Ã©tait pas bon (Apache servait /var/www/html au lieu de /var/www/html/public)

Les permissions Linux sur mes fichiers Ã©taient insuffisantes

Le module mod_rewrite n'Ã©tait pas activÃ©

.htaccess n'Ã©tait pas pris en compte

âœ… Les solutions appliquÃ©es :
Jâ€™ai changÃ© le DocumentRoot dans Apache vers /var/www/html/public

Jâ€™ai ajoutÃ© un bloc <Directory> dans la config Apache :

apache
Copier
Modifier
<Directory /var/www/html/public>
    AllowOverride All
</Directory>
Jâ€™ai activÃ© mod_rewrite avec :

bash
Copier
Modifier
a2enmod rewrite
Et jâ€™ai donnÃ© les bons droits Ã  Laravel :

bash
Copier
Modifier
chmod -R 775 storage bootstrap/cache
ğŸ”´ 3. Le projet Laravel nâ€™apparaissait pas dans le conteneur
âŒ Le problÃ¨me :
Mon conteneur tournait bien, mais le projet Laravel nâ€™Ã©tait pas lÃ , ou vide. Le volume nâ€™Ã©tait pas montÃ© correctement.

âœ… Ce que jâ€™ai fait :
Jâ€™ai vÃ©rifiÃ© que le montage Ã©tait bien fait dans mon docker-compose.yml :

yaml
Copier
Modifier
volumes:
  - .:/var/www/html
Et je me suis assurÃ© que le dossier courant (.) contenait bien tout Laravel : artisan, app/, routes/, public/, etc.

ğŸ”´ 4. Avertissement Apache : ServerName
âŒ Le message :
vbnet
Copier
Modifier
AH00558: Could not reliably determine the server's fully qualified domain name
âœ… Solution :
Jâ€™ai simplement ajoutÃ© dans mon Dockerfile :

dockerfile
Copier
Modifier
RUN echo "ServerName localhost" >> /etc/apache2/apache2.conf
ğŸ”§ Configuration mise en place
ğŸ“¦ Dockerfile (PHP 8.3 + Apache) :
pdo_mysql installÃ©

mod_rewrite activÃ©

DocumentRoot vers /public

ServerName dÃ©fini

composer installÃ© depuis lâ€™image officielle PHP

ğŸ³ docker-compose.yml :
2 services : laravel-app (Apache/PHP) + mysql

Volume montÃ© : Laravel local â†’ /var/www/html

Port mappÃ© : 8080:80

RÃ©seau privÃ© : laravel

âœ… RÃ©sultat final
Je peux accÃ©der Ã  mon application Laravel sur : http://localhost:8080

Jâ€™exÃ©cute les commandes Artisan directement dans le conteneur

Ma base MySQL est disponible sur localhost:3307